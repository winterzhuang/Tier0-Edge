# Demo MCP Server

ä¸€ä¸ªåŸºäº Model Context Protocol (MCP) çš„æ¼”ç¤ºæœåŠ¡å™¨ï¼Œæä¾›å¤©æ°”æŸ¥è¯¢åŠŸèƒ½ã€‚

## åŠŸèƒ½ç‰¹æ€§

- ğŸŒ¤ï¸ **å¤©æ°”æŸ¥è¯¢**ï¼šè·å–æŒ‡å®šåŸå¸‚çš„å®æ—¶å¤©æ°”ä¿¡æ¯
- ğŸ”„ **å¤šç§ä¼ è¾“åè®®**ï¼šæ”¯æŒ stdioã€SSE å’Œ HTTP æµå¼ä¼ è¾“
- ğŸ› ï¸ **æ ‡å‡†åŒ–æ¥å£**ï¼šåŸºäº MCP åè®®ï¼Œå…¼å®¹å„ç§ MCP å®¢æˆ·ç«¯
- ğŸ“¦ **æ˜“äºéƒ¨ç½²**ï¼šæä¾› npm åŒ…å’Œ CLI å·¥å…·

## å®‰è£…

### ä½œä¸ºå…¨å±€å·¥å…·å®‰è£…

```bash
npm install -g @supos-os-edge/demo-mcp-server
```

### ä½œä¸ºé¡¹ç›®ä¾èµ–å®‰è£…

```bash
npm install @supos-os-edge/demo-mcp-server
```

## ä½¿ç”¨æ–¹æ³•

### 1. æ ‡å‡†è¾“å…¥è¾“å‡ºæ¨¡å¼ (stdio)

```bash
# ä½¿ç”¨å…¨å±€å®‰è£…
npx @supos-os-edge/demo-mcp-server stdio

# æˆ–ä½¿ç”¨æœ¬åœ°å®‰è£…
node_modules/.bin/@supos-os-edge/demo-mcp-server stdio
```

### 2. SSE æœåŠ¡å™¨æ¨¡å¼

```bash
# å¯åŠ¨ SSE æœåŠ¡å™¨
npx @supos-os-edge/demo-mcp-server sse
```

### 3. HTTP æµå¼ä¼ è¾“æ¨¡å¼

```bash
# å¯åŠ¨ HTTP æµå¼ä¼ è¾“æœåŠ¡å™¨
npx @supos-os-edge/demo-mcp-server streamableHttp
```

## é…ç½®

### åœ¨ Claude Desktop ä¸­é…ç½®

åœ¨ Claude Desktop çš„é…ç½®æ–‡ä»¶ä¸­æ·»åŠ ï¼š

```json
{
  "mcpServers": {
    "demo-streamable": {
      "url": "http://localhost:3000/mcp",
      "transportType": "streamable-http"
    },
    "demo-sse": {
      "url": "http://localhost:3001/sse",
      "transportType": "sse"
    },
    "demo-stdio": {
      "transportType": "stdio",
      "command": "npx",
      "args": ["-y", "@supos-os-edge/demo-mcp-server"]
    }
  }
}
```

### ç¯å¢ƒå˜é‡

- `PORT`ï¼šæœåŠ¡å™¨ç«¯å£ï¼ˆé»˜è®¤ä¸º 3000ï¼‰
- `HOST`ï¼šæœåŠ¡å™¨ä¸»æœºï¼ˆé»˜è®¤ä¸º localhostï¼‰

## å¯ç”¨å·¥å…·

### get_weather

è·å–æŒ‡å®šåŸå¸‚çš„å¤©æ°”ä¿¡æ¯ã€‚

**å‚æ•°ï¼š**

- `city`ï¼šåŸå¸‚åç§°ï¼ˆä¾‹å¦‚ï¼šåŒ—äº¬ã€ä¸Šæµ·ã€æ­å·ï¼‰

**è¿”å›ç¤ºä¾‹ï¼š**

```
ğŸŒ¤ï¸ å¤©æ°”ä¿¡æ¯ï¼š

ğŸ“ ä½ç½®ï¼šæµ™æ±Ÿçœ - æ­å·å¸‚
ğŸŒ¡ï¸ æ¸©åº¦ï¼š25Â°C
ğŸŒ¤ï¸ å¤©æ°”ï¼šå¤šäº‘ (å¤šäº‘)
ğŸ’§ æ¹¿åº¦ï¼š65%
ğŸ’¨ é£å‘ï¼šä¸œå—é£ 3çº§
ğŸŒŠ æ°”å‹ï¼š1013hPa
ğŸ’¦ é™æ°´é‡ï¼š0mm
ğŸ• æ›´æ–°æ—¶é—´ï¼š2024-01-01 12:00:00

å¤©æ°”ä»£ç ï¼š01
```

## å¼€å‘

### é¡¹ç›®ç»“æ„

```
src/
â”œâ”€â”€ index.ts              # ä¸»å…¥å£æ–‡ä»¶
â”œâ”€â”€ server/
â”‚   â””â”€â”€ index.ts          # MCP æœåŠ¡å™¨å®ç°
â”œâ”€â”€ tools/
â”‚   â””â”€â”€ weather.ts        # å¤©æ°”å·¥å…·å®ç°
â”œâ”€â”€ transport/
â”‚   â”œâ”€â”€ stdio.ts          # æ ‡å‡†è¾“å…¥è¾“å‡ºä¼ è¾“
â”‚   â”œâ”€â”€ sse.ts            # SSE ä¼ è¾“
â”‚   â””â”€â”€ streamableHttp.ts # HTTP æµå¼ä¼ è¾“
â””â”€â”€ utils/
    â””â”€â”€ log.ts            # æ—¥å¿—å·¥å…·
```

### æ„å»ºé¡¹ç›®

```bash
# å®‰è£…ä¾èµ–
pnpm install

# å¼€å‘æ¨¡å¼ï¼ˆç›‘å¬æ–‡ä»¶å˜åŒ–ï¼‰
pnpm run dev

# æ„å»ºé¡¹ç›®
pnpm run build

# å¯åŠ¨æœåŠ¡å™¨
pnpm start
```

### æµ‹è¯•

```bash
# ä½¿ç”¨ MCP æ£€æŸ¥å™¨æµ‹è¯•
pnpm run inspector
```

## API æ–‡æ¡£

### å¤©æ°”æ•°æ®æ¥æº

æœ¬æœåŠ¡ä½¿ç”¨è…¾è®¯å¤©æ°” API è·å–å®æ—¶å¤©æ°”æ•°æ®ã€‚

### é”™è¯¯å¤„ç†

- åŸå¸‚ä¸å­˜åœ¨ï¼šè¿”å›å‹å¥½çš„é”™è¯¯æç¤º
- ç½‘ç»œé”™è¯¯ï¼šæä¾›é‡è¯•å»ºè®®
- å‚æ•°é”™è¯¯ï¼šè¯¦ç»†çš„å‚æ•°éªŒè¯ä¿¡æ¯

## è®¸å¯è¯

ISC License

## è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

## æ›´æ–°æ—¥å¿—

### v1.0.1

- åˆå§‹ç‰ˆæœ¬å‘å¸ƒ
- å®ç°åŸºæœ¬çš„å¤©æ°”æŸ¥è¯¢åŠŸèƒ½
- æ”¯æŒå¤šç§ä¼ è¾“åè®®

## æŠ€æœ¯æ”¯æŒ

å¦‚æœ‰é—®é¢˜ï¼Œè¯·æäº¤ Issue æˆ–è”ç³»å¼€å‘å›¢é˜Ÿã€‚
